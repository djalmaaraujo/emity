("undefined"!=typeof module?module:window)["undefined"!=typeof module?"exports":"Emity"]=function(){this.events=[],this.on=function(a,b,c,d){var e=this.events[a]||[];return e.push({ev:a,cb:b,ctx:c,once:d||!1}),this.events[a]=e,this},this.once=function(a,b,c){return this.on(a,b,c,!0)},this.off=function(a,b){if(0==arguments.length||"*"===a)return this.events=[],this;if(!b)return this.events[a]=[],this;for(var c=0;c<this.events[a].length;c++)b===this.events[a][c].cb&&this.events[a].splice(c,1);return this},this.emit=function(){var e,a=this,b=Array.apply([],arguments),c=this.events[b.shift()]||[],d=0;if(c.length<=0)return this;for(;e=c[d++];)e.cb.apply(e.ctx,b),e.hasOwnProperty("once")&&e.once&&a.off(e.ev);return this}};
